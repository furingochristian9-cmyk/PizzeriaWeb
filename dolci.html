<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dolci ğŸ° | Pizzeria da Ciccio</title>

<!-- CSS -->
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="cart.css">

<!-- FONT -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- HEADER -->
<header>
  <h1>Pizzeria da Ciccio ğŸ• - Dolci</h1>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="pizze.html">Pizze</a></li>
      <li><a href="menubibite.html">Bevande</a></li>
      <li><a href="dolci.html" class="active">Dolci</a></li>
    </ul>
  </nav>
</header>

<!-- HERO -->
<section class="hero">
  <div class="hero-overlay">
    <div class="hero-content">
      <h2>I nostri Dolci</h2>
      <p>Tutti fatti in casa, freschi ogni giorno ğŸ°</p>
    </div>
  </div>
</section>

<!-- MENU DOLCI -->
<section class="menu-grid" id="menu"></section>

<!-- CARRELLO -->
<div id="cart">
  <h3>ğŸ›’ Il tuo carrello</h3>
  <div id="cart-items"></div>
  <p><strong>Totale: <span id="total">0.00â‚¬</span></strong></p>
  <button id="confirm-btn" onclick="confirmOrder()">Conferma Ordine</button>
</div>

<!-- SCRIPT -->
<script src="script.js"></script>

<script>
const img = {
  "TiramisÃ¹":"img/tiramisu.jpeg",
  "BabÃ ":"img/baba.jpeg",
  "Panna Cotta":"img/pannacotta.jpeg",
  "Gelato Artigianale":"img/gelato.jpeg"
};

const menuData = [
  { categoria: "Dolci", items: [
    {nome:"TiramisÃ¹", prezzo:"4.00â‚¬", ingredienti:"Mascarpone, Savoiardi, CaffÃ¨, Cacao"},
    {nome:"BabÃ ", prezzo:"3.50â‚¬", ingredienti:"Impasto dolce, Rum"},
    {nome:"Panna Cotta", prezzo:"3.00â‚¬", ingredienti:"Panna, Zucchero, Vaniglia"},
    {nome:"Gelato Artigianale", prezzo:"3.00â‚¬", ingredienti:"Latte, Zucchero, Varie creme"}
  ]}
];

const container = document.getElementById("menu");

menuData.forEach(sezione => {
  sezione.items.forEach(item => {
    const card = document.createElement("div");
    card.className = "pizza-card";

    const imageURL = img[item.nome] || "img/default.jpeg";

    card.innerHTML = `
      <img src="${imageURL}" alt="${item.nome}">
      <div class="pizza-info">
        <h3>${item.nome}</h3>
        <div class="stars" data-rating="4">â˜…â˜…â˜…â˜…â˜†</div>
        <p>Prezzo: <span class="price">${item.prezzo}</span></p>
        <button class="add-btn" onclick="addToCart('${item.nome}','${item.prezzo}'); event.stopPropagation();">Aggiungi ğŸ›’</button>
        <button class="info-btn" onclick="showInfo('${item.nome}','${item.ingredienti}'); event.stopPropagation();">â„¹ï¸ Info</button>
      </div>
    `;
    container.appendChild(card);
  });
});

document.addEventListener("click", e => {
  if (e.target.classList.contains("stars")) {
    let rating = e.target.getAttribute("data-rating");
    rating = (Number(rating) % 5) + 1;
    e.target.setAttribute("data-rating", rating);
    e.target.textContent = "â˜…â˜…â˜…â˜…â˜…".slice(0, rating) + "â˜†â˜†â˜†â˜†â˜†".slice(0, 5-rating);
  }
});

function showInfo(nome, ingredienti) {
  const modal = document.createElement("div");
  modal.className = "info-modal";
  modal.innerHTML = `
    <div class="info-box">
      <h2>${nome}</h2>
      <p><strong>Ingredienti:</strong> ${ingredienti}</p>
      <button onclick="this.parentElement.parentElement.remove()" class="close-btn">Chiudi</button>
    </div>
  `;
  document.body.appendChild(modal);
}
</script>

</body>
</html>
